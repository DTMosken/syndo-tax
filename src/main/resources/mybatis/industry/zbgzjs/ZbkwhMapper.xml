<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper
	namespace="com.syndo.project.industry.zbgzjs.mapper.ZbkwhMapper">
	<!-- 查询指标库指标分类 -->
	<select id="GetZbkLST"
		resultType="com.syndo.project.industry.zbgzjs.domain.Zbkwh" parameterType="com.syndo.project.industry.zbgzjs.domain.Zbkwh">
		SELECT t.*, f.`MLMC` flmc 
		FROM cs_mcxy_zb_zbk t left join cs_mcxy_zb_flml f on t.`FLMLID`=f.`ID` 
		<where>
			<if test="ZBMC!=null and ZBMC!=''">  AND t.ZBMC= #{ZBMC} </if>
			<if test="FLMLID!=null and FLMLID!=''"> AND  t.FLMLID= #{FLMLID} </if>
			<if test="YXBZ!=null and YXBZ!=''"> AND  t.YXBZ= #{YXBZ} </if>
			<if test="PFFS!=null and PFFS!=''"> AND  t.PFFS= #{PFFS} </if>
		</where>
	</select>
	
	<!-- 查询指标库指标分类 -->
	<select id="GetZbkLSTBYID"
		resultType="com.syndo.project.industry.zbgzjs.domain.Zbkwh"
		parameterType="String">
		SELECT t.*, f.`MLMC` flmc
		FROM cs_mcxy_zb_zbk t left join cs_mcxy_zb_flml f on t.`FLMLID`=f.`ID`
		WHERE t.ID=#{_parameter}
	</select>
	<!--修改指标分类 -->
	<update id="updateZbk"
		parameterType="com.syndo.project.industry.zbgzjs.domain.Zbkwh">
		UPDATE cs_mcxy_zb_zbk SET FLMLID= #{FLMLID},ZBMC=
		#{ZBMC},ZBSM= #{ZBSM},PFFS= #{PFFS},JSGS= #{JSGS},FZSX= #{FZSX},FZXX=
		#{FZXX},PFSM= #{PFSM},YXBZ= #{YXBZ} WHERE ID=#{ID}
	</update>

	<!-- 删除 -->
	<delete id="remove">
		delete from
		cs_mcxy_zb_zbk where id IN
		<foreach item="id" collection="array" open="(" separator=","
			close=")">
			#{id}
		</foreach>
	</delete>
	
	<!--新增指标分类 -->
	<insert id="newaddZbk"
		parameterType="com.syndo.project.industry.zbgzjs.domain.Zbkwh">
		insert into
		cs_mcxy_zb_zbk(ID, FLMLID, ZBMC,
		ZBSM,PFFS,JSGS,FZSX,FZXX,PFSM,YXBZ)
		values(#{ID},
		#{FLMLID},#{ZBMC},#{ZBSM},#{PFFS},#{JSGS},#{FZSX},#{FZXX},#{PFSM},#{YXBZ}
		)
	</insert>


</mapper>